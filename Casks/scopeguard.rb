# This file was generated by GoReleaser. DO NOT EDIT.
cask "scopeguard" do
  name "scopeguard"
  desc "scopeguard Go static analyzer that identifies variables with unnecessarily wide scope and suggests moving them to tighter scopes."
  homepage "https://github.com/fillmore-labs/scopeguard"
  version "0.0.1"

  livecheck do
    skip "Auto-generated on release."
  end

  binary "scopeguard"
  depends_on formula: [
      "go",
    ]

  on_macos do
    on_intel do
      url "https://github.com/fillmore-labs/scopeguard/releases/download/v#{version}/scopeguard_darwin_amd64.tar.gz"
      sha256 "639662f242f10d68b8d4e563bc0abbcdc796d5d58333fbf92bc51df2834da405"
    end
    on_arm do
      url "https://github.com/fillmore-labs/scopeguard/releases/download/v#{version}/scopeguard_darwin_arm64.tar.gz"
      sha256 "0dc590dab5fc32d7918e7405f2001353b5f462f0c1911f80b45cc5e1d9b55848"
    end
  end

  on_linux do
    on_intel do
      url "https://github.com/fillmore-labs/scopeguard/releases/download/v#{version}/scopeguard_linux_amd64.tar.gz"
      sha256 "ddaea457866f2705da7f13a06ed31526ca668012d027dc9727f471ea497d7369"
    end
    on_arm do
      url "https://github.com/fillmore-labs/scopeguard/releases/download/v#{version}/scopeguard_linux_arm64.tar.gz"
      sha256 "ecb52bd35c394071c7608d98d4638a4aa5469343018aba5233ae5fdcead3a8da"
    end
  end

  postflight do
    if system_command("/usr/bin/xattr", args: ["-h"]).exit_status == 0
      system_command "/usr/bin/xattr", args: ["-d", "com.apple.quarantine", "#{staged_path}/scopeguard"]
    end
  end

  # No zap stanza required
end
